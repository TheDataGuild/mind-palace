## Pass 1

### Prompt

```
Given the following text, define a property graph model. Follow these rules:

- create nodes for instances which fit one of the given types
- parse relations from the text between the created nodes
- do not use pronouns, name each noun explicitly
- do not assume any relations which are not explicitly mentioned in the text

Node Types: Character, Location, Object, Testimony, Evidence

Text 1: """
Foo and Bar are friends. They like to eat cheese together.
"""
Model 1:
"""
Nodes:
- Character:
  - Foo
  - Bar
- Object:
  - cheese

Relations:
1. Foo and Bar are friends.
2. Foo eats cheese.
3. Bar eats cheese.
4. Foo and Bar eats cheese together.
"""

Text 2:
"""
"""
Model 2:
```

### Output

model: `gpt-3.5-turbo`

```
Nodes:
- Character:
  - narrator
  - Auguste Dupin
- Location:
  - Paris
- Object:
  - Books
  - special volume
  - house

Relations:
1. The narrator tells us that this discussion will be relevant to the story.
2. The narrator introduces us to Auguste Dupin.
3. The narrator is spending time in Paris with Auguste Dupin.
4. Auguste Dupin is a man of high class and family.
5. Auguste Dupin has lost a lot of his fortune in a series of events.
6. Books are now Auguste Dupin's highest luxury.
7. The narrator shares a love for books with Auguste Dupin.
8. The narrator and Auguste Dupin had their first meeting at a library.
9. They bonded over a special volume.
10. The narrator is surprised at how well read Auguste Dupin is.
11. The narrator judges that Auguste Dupin's company during their stay in Paris will be very valuable.
12. The pair live together.
13. They can afford a romantic but "grotesque" house with their combined fortunes.
14. The house seems to suit their mood.
```

## Pass 2

### Prompt

```
Parse this text into Cypher language. Re-use the nodes and relations as much as possible to limit number of nodes and relations.

Text 1: """
Nodes:
- Character:
  - Foo
  - Bar
- Object:
  - cheese

Relations:
1. Foo likes cheese.
2. Bar likes cheese.
3. Foo and Bar eats cheese together sometimes.
"""
Cypher 1:
// Create nodes
CREATE (f:Character {name: "Foo"}), (b:Character {name: "Bar"}), CREATE (c:Object {name: "cheese"});

// Relation 1
MATCH (a:Character {name: "Foo"}), (c:Object {name: "cheese"})
CREATE (a)-[r:LIKES]->(cheese);

// Relation 2
MATCH (a:Character {name: "Bar"}), (c:Object {name: "cheese"})
CREATE (a)-[r:LIKES]->(cheese);

// Relation 3
MATCH (a:Character {name: "Foo"}), (b:Character {name: "Bar"})
MERGE (a)-[r:EATS_WITH]->(b)
SET r.interval = "sometimes";

##
Text: """
"""
Cypher 2:
```

## Output

model: `gpt-3.5-turbo`

```
// Create nodes
CREATE (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"}), (l:Location {name: "Paris"}), (b1:Object {name: "Books"}), (b2:Object {name: "special volume"}), (h:Object {name: "house"});

// Relation 1
MATCH (n:Narrator {name: "narrator"})
SET n.discussion_relevant = true;

// Relation 2
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"})
CREATE (n)-[r:INTRODUCES]->(a);

// Relation 3
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"}), (l:Location {name: "Paris"})
CREATE (n)-[r:SPENDS_TIME_IN]->(l), (a)-[r2:SPENDS_TIME_IN]->(l);

// Relation 4
MATCH (a:Character {name: "Auguste Dupin"})
SET a.class = "high class", a.family = "high class";

// Relation 5
MATCH (a:Character {name: "Auguste Dupin"})
SET a.lost_fortune = true;

// Relation 6
MATCH (a:Character {name: "Auguste Dupin"}), (b1:Object {name: "Books"})
CREATE (a)-[r:HAS_LUXURY]->(b1);

// Relation 7
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"}), (b1:Object {name: "Books"})
CREATE (n)-[r:SHARES_LOVE_WITH]->(b1), (a)-[r2:SHARES_LOVE_WITH]->(b1);

// Relation 8
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"}), (l:Location {name: "library"})
CREATE (n)-[r:MEETING_AT]->(l), (a)-[r2:MEETING_AT]->(l);

// Relation 9
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"}), (b2:Object {name: "special volume"})
CREATE (n)-[r:BONDED_OVER]->(b2), (a)-[r2:BONDED_OVER]->(b2);

// Relation 10
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"})
SET n.surprised = true, n.surprised_by = a, a.well_read = true;

// Relation 11
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"})
SET n.valuable_company = a;

// Relation 12
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"})
CREATE (n)-[r:LIVE_TOGETHER]->(a);

// Relation 13
MATCH (n:Narrator {name: "narrator"}), (a:Character {name: "Auguste Dupin"}), (h:Object {name: "house"})
CREATE (n)-[r:AFFORDS]->(h), (a)-[r2:AFFORDS]->(h), (n)-[r3:SUIT_MOOD]->(h), (a)-[r4:SUIT_MOOD]->(h), (r3)-[r5:GROTESQUE]->(r4);

// Relation 14
MATCH (h:Object {name: "house"})
SET h.suits_mood = true;
```

## Reference

Text = paste the text from `./murders_in_rue_morgue_summary.txt`, one paragraph at a time

Drop database,

```cypher
MATCH (n)
DETACH DELETE n;
```
